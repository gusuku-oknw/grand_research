# 論文レジュメ：pHash整合型秘匿画像検索と段階的情報開示 SIS

## 概要
- 目的：平文を開示せずに pHash による類似画像検索を実現し、シェア数に応じて情報開示を3段階（ノイズ / pHash 整合ノイズ / 原本）で制御する知覚暗号化方式を提案。
- 背景：医療・監視・クラウド画像で「検索はしたいが中身は見せたくない」ニーズが高い一方、従来 CBIR は平文特徴を保持し漏洩リスクが残る。

## 提案手法
- 二階層 Shamir 閾値 SIS（例：n=5, k1=2, k2=4）でシェア収集度に応じた段階開示を設計。
- pHash が低周波 DCT 符号構造のみで決まる点を利用し、低周波符号だけを一致させ高周波をランダム化した「pHash 整合ノイズ画像」を生成。視覚情報は欠落するが pHash は原画像と一致。
- 登録時：原画像と pHash 整合ノイズ画像をそれぞれ SIS で分散しサーバへ配布。
  検索時：クエリを同処理→k1 復元で候補絞り込み（ノイズ or pHash 整合ノイズ）、必要に応じ k2 で原本復元。

## 新規性・貢献
- pHash の符号だけを保持したダミー画像生成と二階層 SIS を統合し、「pHash は開示するが視覚情報は秘匿」という中間状態を閾値で保証。
- 検索は軽量な pHash API 互換のまま、復元コストのみを段階化して計算量とプライバシのバランスを取る。
- 既存の MPC/SE ベースの高次元特徴検索より低コストに、段階的情報開示を備えた枠組みを提示。

## 評価
- データセット：COCO 派生画像 500 クエリ、20 種の回転・圧縮・ノイズ変換バリアントを作成。
- 精度：オリジナルクエリで P@1=100%、P@5 約20%、P@10 約10%; 20 バリアントで P@1=100%、P@5 約86.6%、P@10 約84.8%（平文 pHash とダミーで一致傾向）。
- 処理時間：検索 0.5-0.6 ms/件（平文 pHash と同等）。復元コストは k1 復元 121 ms、k2 復元 10.2 s に段階化。
- 視覚秘匿性：pHash 整合ノイズの PSNR は約 10 dB、k1 未満では pHash も一致せず漏洩が抑制。

## 限界と今後
- pHash の回転・大きなトリミングへの脆弱性、アクセスパターン漏洩は未解決。
- MPC / TEE との統合や、回転ロバストハッシュ・学習ベース特徴への拡張が今後の課題。

## 想定ユースケース
- 医療画像検索：患者データを露出させず類似症例を探索。
- 監視映像照合：本人確認は避けつつ手がかり探索。
- クラウド写真共有：プライベート画像の類似重複検出。

## 連絡先
- 学生：玉城洵弥
- 論文：2025 年度卒業論文（pHash 整合型知覚暗号化 / SIS）
